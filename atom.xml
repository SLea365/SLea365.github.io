<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>南叶的个人博客</title>
  
  <subtitle>笑不语</subtitle>
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2021-02-05T14:48:21.742Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>南叶SLea</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title></title>
    <link href="http://example.com/2021/02/05/GPIO%E4%B8%AD%E6%96%AD/"/>
    <id>http://example.com/2021/02/05/GPIO%E4%B8%AD%E6%96%AD/</id>
    <published>2021-02-05T14:46:53.341Z</published>
    <updated>2021-02-05T14:48:21.742Z</updated>
    
    <content type="html"><![CDATA[<h1 id="EXTI中断"><a href="#EXTI中断" class="headerlink" title="EXTI中断"></a>EXTI中断</h1><h2 id="1、EXTI原理解析"><a href="#1、EXTI原理解析" class="headerlink" title="1、EXTI原理解析"></a>1、EXTI原理解析</h2><h3 id="1-1-EXTI简介"><a href="#1-1-EXTI简介" class="headerlink" title="1-1 EXTI简介"></a>1-1 EXTI简介</h3><ul><li>EXTI中文名：外部中断/事件控制器</li><li>中断运行途径：GPIO读取电平—&gt;EXTI处理—&gt;NVIC内核</li></ul><h3 id="1-2EXTI功能框图"><a href="#1-2EXTI功能框图" class="headerlink" title="1-2EXTI功能框图"></a>1-2EXTI功能框图</h3><p><img src="%E5%9B%BE%E7%89%87/image-20200811083719863.png" alt="image-20200811083719863"></p><ul><li><p>输入线：EXTI是管理外部中断的，所以EXTI的输入线连接在GPIO上，总共有20根</p><p><img src="%E5%9B%BE%E7%89%87/image-20200811084452339.png" alt="image-20200811084452339"></p></li><li><p>边沿检测电路：通过设置上升沿寄存器或者下降沿寄存器来控制信号的产生<br>上升沿/下降沿检测电路是由EXTI_RTSR（上升沿触发选择寄存器）或者EXTI_FTSR（下降沿触发选择寄存器）控制，选择其中一个向相应的位写1即可。当相应的位被写1后，就会设置EXTI_PR中相应的挂起位。<br><img src="%E5%9B%BE%E7%89%87/image-20200814191317724.png" alt="image-20200814191317724"></p></li><li><p>挂起寄存器&amp;中断屏蔽寄存器<br>当边沿检测电路输出一个1之后会有两个方向，一个是往上走 ，进入挂起寄存器，中断使用，另一路是进入脉冲发生器，事件使用。我们选择往上走进入挂起寄存器（EXTI_PR）置1，之后设置中断屏蔽寄存器（EXTI_IMR），置1 ，这样中断屏蔽寄存器与请求挂起寄存器经过一个与门之后就输出1，之后就会进入NVIC中断控制器，之后内核相应，开始自动查找中断服务函数CSR，至此整个中断流程完成。</p><h2 id="整体回顾"><a href="#整体回顾" class="headerlink" title="整体回顾"></a>整体回顾</h2><h3 id="2-1框图详解"><a href="#2-1框图详解" class="headerlink" title="2-1框图详解"></a>2-1框图详解</h3><p><img src="%E5%9B%BE%E7%89%87/image-20200814202650380.png" alt="image-20200814202650380"></p></li></ul><h2 id="程序分析"><a href="#程序分析" class="headerlink" title="程序分析"></a>程序分析</h2><h3 id="3-1初始化用来中断的GPIO"><a href="#3-1初始化用来中断的GPIO" class="headerlink" title="3-1初始化用来中断的GPIO"></a>3-1初始化用来中断的GPIO</h3><ul><li><p>初始化引脚的步骤：开时钟；取引脚；定模式；设速度</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">GPIO_InitTypeDef GPIO_InitStruct;</span><br><span class="line">RCC_APB2PeriphClockCmd(RCC_APB2Periph_GPIOA,ENABLE);   <span class="comment">//开时钟</span></span><br><span class="line">GPIO_InitStruct.GPIO_Pin = KEY_INT_GPIO_Pin;           <span class="comment">//选引脚</span></span><br><span class="line">GPIO_InitStruct.GPIO_Mode = GPIO_Mode_IN_FLOATING;     <span class="comment">//定模式</span></span><br><span class="line">GPIO_Init(GPIOA, &amp;GPIO_InitStruct);                   <span class="comment">//因为这里是用GPIO输入模式，所以不需要设置速度，直接初始化即可</span></span><br></pre></td></tr></table></figure></li></ul><h3 id="3-2初始化EXTI"><a href="#3-2初始化EXTI" class="headerlink" title="3-2初始化EXTI"></a>3-2初始化EXTI</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//初始化EXTI</span></span><br><span class="line">EXTI_InitTypeDef EXTI_InitStruct;</span><br><span class="line">RCC_APB2PeriphClockCmd(RCC_APB2Periph_AFIO,ENABLE);   <span class="comment">//开时钟</span></span><br><span class="line">GPIO_EXTILineConfig(GPIO_PortSourceGPIOA, GPIO_PinSource0);   <span class="comment">//选择输入线</span></span><br><span class="line">EXTI_InitStruct.EXTI_Line = EXTI_Line0;                <span class="comment">// 选择输入线0</span></span><br><span class="line">EXTI_InitStruct.EXTI_Mode = EXTI_Mode_Interrupt;     <span class="comment">// 选择中断模式</span></span><br><span class="line">EXTI_InitStruct.EXTI_Trigger = EXTI_Trigger_Falling;  <span class="comment">//选择下降/上升沿触发</span></span><br><span class="line">EXTI_InitStruct.EXTI_LineCmd = ENABLE;           <span class="comment">//使能</span></span><br><span class="line">EXTI_Init(&amp;EXTI_InitStruct);    </span><br></pre></td></tr></table></figure><h3 id="3-3初始化NVIC"><a href="#3-3初始化NVIC" class="headerlink" title="3-3初始化NVIC"></a>3-3初始化NVIC</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">NVIC_Config</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  NVIC_InitTypeDef NVIC_InitStruct;</span><br><span class="line">NVIC_PriorityGroupConfig(NVIC_PriorityGroup_0); <span class="comment">//中断优先级分组</span></span><br><span class="line">NVIC_InitStruct.NVIC_IRQChannel = EXTI0_IRQn;   <span class="comment">//设置中断源</span></span><br><span class="line">NVIC_InitStruct.NVIC_IRQChannelPreemptionPriority = <span class="number">0</span>; <span class="comment">//设置主优先级</span></span><br><span class="line">NVIC_InitStruct.NVIC_IRQChannelSubPriority = <span class="number">1</span>;   <span class="comment">//设置子优先级</span></span><br><span class="line">NVIC_InitStruct.NVIC_IRQChannelCmd = ENABLE;     <span class="comment">//使能</span></span><br><span class="line">NVIC_Init(&amp;NVIC_InitStruct);                   <span class="comment">//初始化</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="3-4编写中断服务函数"><a href="#3-4编写中断服务函数" class="headerlink" title="3-4编写中断服务函数"></a>3-4编写中断服务函数</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(EXTI_GetITStatus(KEY1_INT_EXTI_LINE) != RESET) </span><br><span class="line">&#123;</span><br><span class="line"><span class="comment">// 中断具体的作用，这里为LED取反</span></span><br><span class="line">LED1_TOGGLE;</span><br><span class="line">    <span class="comment">//清除中断标志位</span></span><br><span class="line">EXTI_ClearITPendingBit(KEY1_INT_EXTI_LINE);     </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><h3 id="3-5主函数分析"><a href="#3-5主函数分析" class="headerlink" title="3-5主函数分析"></a>3-5主函数分析</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">LED_GPIO_Config();   <span class="comment">//LED初始化</span></span><br><span class="line">EXTI_Key_Config();   <span class="comment">//中断查询</span></span><br><span class="line"><span class="keyword">while</span>(<span class="number">1</span>)                            </span><br><span class="line">&#123;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="参考资料：野火EXTI例程"><a href="#参考资料：野火EXTI例程" class="headerlink" title="参考资料：野火EXTI例程"></a>参考资料：野火EXTI例程</h2>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;EXTI中断&quot;&gt;&lt;a href=&quot;#EXTI中断&quot; class=&quot;headerlink&quot; title=&quot;EXTI中断&quot;&gt;&lt;/a&gt;EXTI中断&lt;/h1&gt;&lt;h2 id=&quot;1、EXTI原理解析&quot;&gt;&lt;a href=&quot;#1、EXTI原理解析&quot; class=&quot;headerli</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>MDK5（不含支持包）</title>
    <link href="http://example.com/2021/02/05/MDK5%EF%BC%88%E4%B8%8D%E5%90%AB%E6%94%AF%E6%8C%81%E5%8C%85%EF%BC%89/"/>
    <id>http://example.com/2021/02/05/MDK5%EF%BC%88%E4%B8%8D%E5%90%AB%E6%94%AF%E6%8C%81%E5%8C%85%EF%BC%89/</id>
    <published>2021-02-05T13:52:55.000Z</published>
    <updated>2021-02-05T13:53:40.369Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://www.cn.anshudeyin.cn/mdk528a.exe">点击下载</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;http://www.cn.anshudeyin.cn/mdk528a.exe&quot;&gt;点击下载&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="软件资源" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>注册机到2032年</title>
    <link href="http://example.com/2021/02/05/%E6%B3%A8%E5%86%8C%E6%9C%BA%E5%88%B02032%E5%B9%B4/"/>
    <id>http://example.com/2021/02/05/%E6%B3%A8%E5%86%8C%E6%9C%BA%E5%88%B02032%E5%B9%B4/</id>
    <published>2021-02-05T13:40:07.000Z</published>
    <updated>2021-02-05T13:52:20.667Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://www.cn.anshudeyin.cn/keygen_new%282032%29.zip">点击下载</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;http://www.cn.anshudeyin.cn/keygen_new%282032%29.zip&quot;&gt;点击下载&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="软件资源" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>字模软件</title>
    <link href="http://example.com/2021/02/05/%E5%AD%97%E6%A8%A1%E8%BD%AF%E4%BB%B6/"/>
    <id>http://example.com/2021/02/05/%E5%AD%97%E6%A8%A1%E8%BD%AF%E4%BB%B6/</id>
    <published>2021-02-05T13:25:52.000Z</published>
    <updated>2021-02-05T13:27:18.418Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://www.cn.anshudeyin.cn/%E5%AD%97%E6%A8%A1%E8%BD%AF%E4%BB%B6.zip">字模软件</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;http://www.cn.anshudeyin.cn/%E5%AD%97%E6%A8%A1%E8%BD%AF%E4%BB%B6.zip&quot;&gt;字模软件&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="软件资源" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>Keil4(C51版)</title>
    <link href="http://example.com/2021/02/05/Keil4-C51%E7%89%88/"/>
    <id>http://example.com/2021/02/05/Keil4-C51%E7%89%88/</id>
    <published>2021-02-05T13:19:06.000Z</published>
    <updated>2021-02-05T13:21:45.827Z</updated>
    
    <content type="html"><![CDATA[<p><a href="http://www.cn.anshudeyin.cn/Keil_C51_9.02a.zip">点击下载</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;a href=&quot;http://www.cn.anshudeyin.cn/Keil_C51_9.02a.zip&quot;&gt;点击下载&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="软件资源" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>CH340驱动以及烧录软件</title>
    <link href="http://example.com/2021/02/05/CH340%E9%A9%B1%E5%8A%A8%E4%BB%A5%E5%8F%8A%E7%83%A7%E5%BD%95%E8%BD%AF%E4%BB%B6/"/>
    <id>http://example.com/2021/02/05/CH340%E9%A9%B1%E5%8A%A8%E4%BB%A5%E5%8F%8A%E7%83%A7%E5%BD%95%E8%BD%AF%E4%BB%B6/</id>
    <published>2021-02-05T12:49:33.000Z</published>
    <updated>2021-02-05T12:56:24.663Z</updated>
    
    <content type="html"><![CDATA[<p>下载链接：<a href="http://www.cn.anshudeyin.cn/stc-isp-15xx-v6.87.zip">http://www.cn.anshudeyin.cn/stc-isp-15xx-v6.87.zip</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;下载链接：&lt;a href=&quot;http://www.cn.anshudeyin.cn/stc-isp-15xx-v6.87.zip&quot;&gt;http://www.cn.anshudeyin.cn/stc-isp-15xx-v6.87.zip&lt;/a&gt;&lt;/p&gt;
</summary>
      
    
    
    
    
    <category term="软件资源" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E8%B5%84%E6%BA%90/"/>
    
  </entry>
  
  <entry>
    <title>测试用</title>
    <link href="http://example.com/2021/02/05/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/"/>
    <id>http://example.com/2021/02/05/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</id>
    <published>2021-02-05T09:47:01.000Z</published>
    <updated>2021-02-05T14:34:41.661Z</updated>
    
    <content type="html"><![CDATA[<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><p>图片测试</p><p><img src="http://www.cn.anshudeyin.cn/111.png" alt="表情"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;一级标题&quot;&gt;&lt;a href=&quot;#一级标题&quot; class=&quot;headerlink&quot; title=&quot;一级标题&quot;&gt;&lt;/a&gt;一级标题&lt;/h1&gt;&lt;h2 id=&quot;二级标题&quot;&gt;&lt;a href=&quot;#二级标题&quot; class=&quot;headerlink&quot; title=&quot;二级标题&quot;&gt;&lt;/a</summary>
      
    
    
    
    
    <category term="51单片机" scheme="http://example.com/tags/51%E5%8D%95%E7%89%87%E6%9C%BA/"/>
    
  </entry>
  
</feed>
